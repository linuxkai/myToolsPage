import{E as q,_ as z,a as F,b as A,c as B,d as H,e as I,f as M,g as L}from"./FooterLayout.vue_vue_type_style_index_0_lang-hA4J3lhx.js";import{E as V}from"./el-button-B1YUCnPl.js";import{d as U,r as k,w as P,c as R,a as e,b as o,e as d,o as G,f as p,g as K,v as Q,p as W,h as X,_ as Y}from"./index-MYC7W1cw.js";import{F as Z}from"./FileSaver.min-bHsQz5MF.js";import{C as tt}from"./clipboard-DO9lEQ9v.js";import{i as et}from"./imageSpec-bUnfBDJQ.js";var x=function(){var f=Object.prototype.toString,s=!1;function u(t){var n=$(t).parent().attr("data-type"),a=$(t).parent().attr("data-size");$(t).parent().hide();var r=document.createElement("span");r.className="custom-plus",n==="array"?(r.innerHTML='<i style="cursor:pointer;" class="fa fa-plus-square-o"></i>Array[<span class="json_number">'+a+"</span>]",$(t).parent().before(r)):(r.innerHTML='<i style="cursor:pointer;" class="fa fa-plus-square-o"></i>Object{...}',$(t).parent().before(r))}function m(t){$(t).parent().next().show(),$(t).parent().remove()}$(document.body).on("click",".fa-plus-square-o",function(){m(this)}),$(document.body).on("click",".fa-minus-square-o",function(){u(this)}),$(document.body).on("click",".collapse",function(){if(!s)$(this).addClass("text-success"),$($(".fa-minus-square-o").toArray().reverse()).click(),s=!0,$(this).attr("title","展开"),$(this).attr("data-bs-original-title","展开");else{for(;$(".fa-plus-square-o").length>0;)$(".fa-plus-square-o").click();s=!1,$(this).removeClass("text-success"),$(this).attr("title","折叠"),$(this).attr("data-bs-original-title","折叠")}});function _(t,n){var a="";switch(i(t)){case"Null":a=v();break;case"Boolean":a=b(t);break;case"Number":a=g(t);break;case"String":a=w(t);break;case"Array":a=C(t,n);break;case"Object":a=c(t,n);break}return a}function v(t){return'<span class="json_null">null</span>'}function b(t){return'<span class="json_boolean">'+t+"</span>"}function g(t){return'<span class="json_number">'+t+"</span>"}function w(t){return t=t.replace(/\</g,"<"),t=t.replace(/\>/g,">"),0<=t.search(/^http/)&&(t='<a href="'+t+'" target="_blank" class="json_link">'+t+"</a>"),'<span class="json_string">"'+t+'"</span>'}function C(t,n){for(var a=[],r=0,S=t.length;r<S;++r)a.push(l(n)+_(t[r],n+1));return'<span data-type="array" data-size="'+a.length+'"><i  style="cursor:pointer;" class="fa fa-minus-square-o"></i>[<br/>'+a.join(",<br/>")+"<br/>"+l(n-1)+"]</span>"}function c(t,n){var a=[];for(var r in t)a.push(l(n)+'<span class="json_key">"'+r+'"</span>:'+_(t[r],n+1));return'<span  data-type="object"><i  style="cursor:pointer;" class="fa fa-minus-square-o"></i>{<br/>'+a.join(",<br/>")+"<br/>"+l(n-1)+"}</span>"}function l(t){return new Array(t+1).join("    ")}function i(t){var n=typeof t,a=f.call(t);return t===null?"Null":n=="undefined"?"Undefined":n=="boolean"?"Boolean":n=="number"?"Number":n=="string"?"String":a=="[object Function]"?"Function":a=="[object Array]"?"Array":a=="[object Date]"?"Date":"Object"}function y(){var t=document.createElement("style");t.type="text/css";var n=Array.prototype.slice.apply(arguments).join("");try{t.appendChild(document.createTextNode(n))}catch{t.styleSheet.cssText=n}document.getElementsByTagName("head")[0].appendChild(t)}y(".json_key{ color: #92278f;font-weight:bold;}",".json_null{color: #f1592a;font-weight:bold;}",".json_string{ color: #3ab54a;font-weight:bold;}",".json_number{ color: #25aae2;font-weight:bold;}",".json_link{ color: #717171;font-weight:bold;}",".json_array_brackets{}");var h=function(t){this.data=JSON.parse(t)};return h.prototype={constructor:x,toString:function(){return _(this.data,1)}},h}();const at=f=>(W("data-v-66dcfdf5"),f=f(),X(),f),nt={class:"common-layout"},ot={class:"main"},st=at(()=>p("div",{class:"header"},[p("span",null,"JSON 格式化")],-1)),rt={class:"json-dst-toolbar"},lt={class:"json-dst-content"},ct=U({__name:"jsonFormat",setup(f){new tt("button");const s=k(""),u=k();let m=!1;function _(c){try{c=JSON.parse(c);var l=new x(JSON.stringify(c),4).toString();u.value.innerHTML=l}catch(i){i instanceof Error&&(u.value.innerHTML='<span style="color:red;">'+i.message+"</span>")}}function v(){if(!s.value){$("#json-dst-content").html("");return}_(s.value)}P(s,v,{immediate:!0});function b(){s.value="",u.value.innerHTML=""}function g(){s.value=JSON.stringify(et)}function w(){if(!s.value)return;const c=JSON.parse(s.value),l=new Blob([JSON.stringify(c,null,4)],{type:"application/json"});Z.saveAs(l,"example.json")}function C(){if(s.value){if(!m){var c=JSON.stringify(JSON.parse(s.value),null,0);u.value.innerHTML=c,m=!0;return}_(s.value),m=!1}}return(c,l)=>{const i=A,y=B,h=d("Delete"),t=H,n=V,a=I,r=d("CopyDocument"),S=d("DCaret"),N=d("Download"),j=d("Coin"),E=d("CollectionTag"),O=M,J=L,D=q;return G(),R("div",nt,[e(D,{height:"100%"},{default:o(()=>[e(z),e(O,null,{default:o(()=>[p("div",ot,[e(y,null,{default:o(()=>[e(i,{span:24},{default:o(()=>[st]),_:1})]),_:1}),e(y,null,{default:o(()=>[e(i,{span:11,class:"json-src"},{default:o(()=>[K(p("textarea",{class:"input-without-border","onUpdate:modelValue":l[0]||(l[0]=T=>s.value=T),rows:"50",placeholder:"Please input json data..."},null,512),[[Q,s.value]])]),_:1}),e(i,{span:13,class:"json-dst"},{default:o(()=>[p("div",rt,[e(a,{class:"box-item",content:"清空",placement:"top"},{default:o(()=>[e(n,{type:"danger",class:"clear",onClick:b},{default:o(()=>[e(t,{size:"18"},{default:o(()=>[e(h)]),_:1})]),_:1})]),_:1}),e(a,{class:"box-item",content:"复制",placement:"top"},{default:o(()=>[e(n,{type:"primary",class:"copy","data-clipboard-target":"#json-dst-content"},{default:o(()=>[e(t,{size:"18"},{default:o(()=>[e(r)]),_:1})]),_:1})]),_:1}),e(a,{class:"box-item",content:"折叠",placement:"top"},{default:o(()=>[e(n,{type:"primary",class:"collapse"},{default:o(()=>[e(t,{size:"18"},{default:o(()=>[e(S)]),_:1})]),_:1})]),_:1}),e(a,{class:"box-item",content:"保存",placement:"top"},{default:o(()=>[e(n,{type:"primary",class:"save",onClick:w},{default:o(()=>[e(t,{size:"18"},{default:o(()=>[e(N)]),_:1})]),_:1})]),_:1}),e(a,{class:"box-item",content:"压缩",placement:"top"},{default:o(()=>[e(n,{type:"primary",class:"compress",onClick:C},{default:o(()=>[e(t,{size:"18"},{default:o(()=>[e(j)]),_:1})]),_:1})]),_:1}),e(a,{class:"box-item",content:"示例",placement:"top"},{default:o(()=>[e(n,{type:"primary",class:"example",onClick:g},{default:o(()=>[e(t,{size:"18"},{default:o(()=>[e(E)]),_:1})]),_:1})]),_:1})]),p("div",lt,[p("pre",{id:"json-dst-content",ref_key:"rawHtml",ref:u},null,512)])]),_:1})]),_:1})])]),_:1}),e(J,null,{default:o(()=>[e(F)]),_:1})]),_:1})])}}}),mt=Y(ct,[["__scopeId","data-v-66dcfdf5"]]);export{mt as default};
